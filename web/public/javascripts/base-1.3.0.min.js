/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

if(!dojo._hasResource["plugd.base"]){
dojo._hasResource["plugd.base"]=true;
dojo.provide("plugd.base");
(function(d){
var _2=d.place,_3=d.style,_4="display",_5="visibility",_6={"slow":1800,"fast":420,"mild":900},_7=d.config.keepLayout||false,_8=_7?_5:_4,_9=_7?"hidden":"none",_a=_7?"visible":(d.config.useBlock?"block":""),_b=function(_c){
return (_c in _6)?_6[_c]:_6.fast;
},_d=d.NodeList,_e=_d.prototype,_f=_d._adaptAsForEach,_10,_11=0,_12="mouse"+(d.isIE?"enter":"over");
d.unique=function(_13,b){
do{
_10=(b||"djid_")+(++_11);
}while(_13(_10));
return _10;
};
d.generateId=function(b){
return d.unique(d.byId,b);
};
d.load=function(){
var a=d._toArray(arguments),l=a.length,f=l&&!d.isString(a[l-1])?a.pop():null;
d.forEach(a,d.require,d);
f&&d.addOnLoad(f);
};
d.show=function(n,arg){
if(!arg){
_3(n,_8,_a);
}else{
if(d.isString(arg)){
_3(n,"opacity",0);
d.show(n);
d.anim(n,{opacity:1},_b(arg));
}
}
};
d.hide=function(n,arg){
if(!arg){
_3(n,_8,_9);
}else{
if(d.isString(arg)){
_3(n,"opacity",1);
d.anim(n,{opacity:0},_b(arg),null,d.hitch(d,"hide",n));
}
}
};
d.wrap=function(n,_1e){
var _1f=d.create(_1e);
_2(_1f,n,"before");
_2(n,_1f,"first");
return _1f;
};
d.toggle=function(n,_21){
n=d.byId(n);
d[(n.style[_8]==_9?"show":"hide")](n,_21);
};
d.qw=function(str){
return str?d.map(str.split(/\ +/),d.trim):[];
};
d.create=function(_23,_24,_25,pos){
var n=_23.charAt(0)=="<"?d._toDom(_23):d.doc.createElement(_23);
if(_24){
d.attr(n,_24);
}
if(_25){
_2(n,_25,pos);
}
return n;
};
d.sub=d.subscribe;
d.pub=function(){
var a=d._toArray(arguments);
d.publish(a.shift(),a);
};
d.extend(_d,{show:_f(d.show),hide:_f(d.hide),toggle:_f(d.toggle),destroy:_f(d.destroy),create:function(_29){
return this._stash(this.map(function(){
return d.create(_29);
}));
},clone:function(){
return this._stash(this.map(function(n){
return d.clone(n);
}));
},animate:function(_2b,_2c,_2d,_2e){
return this.forEach(function(n,i,a){
var _32=d.anim(n,_2b,_2c,_2d);
if(_2e&&i==a.length-1){
d.connect(_32,"onEnd",_2e);
}
});
},wrap:function(_33,_34){
var nl=new _d();
this.forEach(function(n){
nl.push(d.wrap(n,_33));
});
return !_34?this:this._stash(nl);
},appendTo:function(_37){
var _38=d.query(_37);
return _38.length?this.forEach(function(n){
_2(n,_38[0]);
}):this;
},append:function(_3a,_3b){
var _3c=d.query(_3a);
if(_3c.length){
_3c=_3c[0];
this.forEach(function(n){
_2((_3b?d.clone(_3c):_3c),n);
});
}
return this;
},val:function(_3e){
var v,a="value";
if(_3e){
return this.attr(a,_3e);
}else{
v=this.attr(a);
return v.length===1?v[0]:v;
}
},hover:function(_41,out){
return this.onmouseenter(_41).onmouseleave(out||_41);
},hoverClass:function(_43){
return this.hover(function(e){
d[(e.type==_12?"addClass":"removeClass")](e.target,_43);
});
},_stash:function(nl){
nl.__last=this;
return nl;
},end:function(){
return this.__last||this;
}});
var _46=d.query;
d.query=function(_47,_48){
var c=d.isString(_47)&&_47.charAt(0)=="<";
return _46(c?d.create(_47):_47,_48);
};
d.conflict=function(){
$=d.mixin(function(){
return d.mixin(d.query.apply(this,arguments),$.fn);
},{fn:{}});
$.fn.ready=d.addOnLoad;
d.config.conflict=true;
};
if(d.config.conflict){
d.conflict();
}
})(dojo);
}
